---
import Layout from "../../layouts/Layout.astro";
import { getEntry, render } from "astro:content";
import BackButton from "../../components/atoms/BackButton.astro";
export const prerender = false;

const { slug } = Astro.params;
if (!slug) {
  return Astro.redirect("/404");
}

const article = await getEntry("posts", slug);
if (!article) {
  return Astro.redirect("/404");
}

const { Content } = await render(article);
---

<Layout title={`${article.data.title} - Nils Haberkamp`}>
      <div class="container max-w-2xl mx-auto px-4 py-8">
        <div class="mb-8">
          <BackButton />
        </div>
        
        <article class="max-w-2xl mx-auto min-h-dvh">
          <h1 class="text-3xl font-medium mb-4 text-balance">{article.data.title}</h1>

          <div class="prose">
            <Content />
          </div>

          <div class="pt-32" />
        </article>
      </div>
</Layout>

