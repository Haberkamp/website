---
import Layout from "../../layouts/Layout.astro";
import { getEntry, render } from "astro:content";
import { GimmicHeading } from "../../components/atoms/GimmicHeading";
export const prerender = false;

const { slug } = Astro.params;
if (!slug) {
  return Astro.redirect("/404");
}

const article = await getEntry("posts", slug);
if (!article) {
  return Astro.redirect("/404");
}

const { Content } = await render(article);
---

<Layout title={`${article.data.title} - Nils Haberkamp`}>
  <div class="relative z-10 bg-white">
      <div class="container max-w-2xl mx-auto px-4 py-8">
        <a href="/" class="relative inline-flex items-center gap-1 mb-8 focus-visible:outline-2 focus-visible:outline-red-500 outline-offset-2 text-gray-600 hover:text-black text-base transition-colors duration-200 ease-out-expo focus-visible:outline-2 focus-visible:outline-red-500 outline-offset-2 hover:text-neutral-1200 transition-colors duration-200 ease-out-expo">
          <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"><path fill="currentColor" d="M20 11v2H8v2H6v-2H4v-2h2V9h2v2zM10 7H8v2h2zm0 0h2V5h-2zm0 10H8v-2h2zm0 0h2v2h-2z"/></svg>

          <span>Back</span>

          <div class="absolute min-w-12 w-full h-12 top-1/2 left-0 -translate-y-1/2 [@media(pointer:fine)]:hidden" />
        </a>
        
        <article class="max-w-2xl mx-auto min-h-dvh">
          <GimmicHeading
            as="h1"
            text={article.data.title}
            className="text-3xl font-medium mb-4 text-balance"
            client:load
          />

          <div class="prose">
            <Content />
          </div>

          <div class="pt-32" />
        </article>
      </div>
    </div>
</Layout>

